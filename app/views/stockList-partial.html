<div class="page-header">
	<div class="row">
		<div class="col-sm-8">
			<h2>Watchlist</h2>
		</div>
		<div class="col-sm-4">
			<!--
			<form class="form-horizontal" role="form">
				<div class="form-group form-group-sm">
					<label class="col-sm-8 control-label" for="refreshInterval">Refresh interval:</label>
					<div class="col-sm-4">
						<select id="refreshInterval" class="form-control" ng-model="refreshInterval" ng-change="refreshIntervalChanged()">
							<option value="30">30 sec</option>
							<option value="60">60 sec</option>
							<option value="300">5 min</option>
							<option value="900">15 min</option>
						</select>
					</div>
				</div>
			</form>
			-->


			<div class="btn-group pull-right" style="margin-top: 20px;">
				<button type="button" class="btn btn-primary dropdown-toggle btn-sm" data-toggle="dropdown" aria-expanded="false">
					Refresh interval <span class="caret"></span>
				</button>
				<ul class="dropdown-menu dropdown-menu-right" role="menu">
					<li role="presentation" class="small">
						<a href="javascript:;" ng-click="setRefreshInterval(30)">
							<span class="glyphicon" ng-class="{'glyphicon-ok': refreshInterval === 30, 'glyphicon-none': refreshInterval !== 30}" aria-hidden="true"></span> 30 sec
						</a>
					</li>
					<li role="presentation" class="small">
						<a href="javascript:;" ng-click="setRefreshInterval(60)">
							<span class="glyphicon" ng-class="{'glyphicon-ok': refreshInterval === 60, 'glyphicon-none': refreshInterval !== 60}" aria-hidden="true"></span> 60 sec
						</a>
					</li>
					<li role="presentation" class="small">
						<a href="javascript:;" ng-click="setRefreshInterval(300)">
							<span class="glyphicon" ng-class="{'glyphicon-ok': refreshInterval === 300, 'glyphicon-none': refreshInterval !== 300}" aria-hidden="true"></span> 5 min
						</a>
					</li>
					<li role="presentation" class="small">
						<a href="javascript:;" ng-click="setRefreshInterval(900)">
							<span class="glyphicon" ng-class="{'glyphicon-ok': refreshInterval === 900, 'glyphicon-none': refreshInterval !== 900}" aria-hidden="true"></span> 15 min
						</a>
					</li>
				</ul>
			</div>

			<!--
			<button type="button" class="btn btn-primary btn-sm pull-right" style="margin-top: 20px; margin-right: 10px;" ng-click="addStock()">Add Stock</button>
			-->

			<!-- Button trigger modal -->
			<button type="button" class="btn btn-primary btn-sm pull-right" data-toggle="modal" data-target="#addStockModal" style="margin-top: 20px; margin-right: 10px;">
				Add Stock
			</button>
		</div>
	</div>
</div>

<div class="row">
	<div class="table-responsive">
		<table class="table table-striped table-hover table-condensed">
			<thead>
				<tr>
					<th ng-click="sortOrder = 'index'; sortReversed = !sortReversed;">
						#
						<span class="glyphicon-lighter small" ng-class="{'glyphicon glyphicon-chevron-up' : sortOrder === 'index' && sortReversed === false, 'glyphicon glyphicon-chevron-down' : sortOrder === 'index' && sortReversed === true}" aria-hidden="true"></span>
					</th>
					<th ng-click="sortOrder = 'liveData.Symbol'; sortReversed = !sortReversed;">
						Symbol
						<span class="glyphicon-lighter small" ng-class="{'glyphicon glyphicon-chevron-up' : sortOrder === 'liveData.Symbol' && sortReversed === false, 'glyphicon glyphicon-chevron-down' : sortOrder === 'liveData.Symbol' && sortReversed === true}" aria-hidden="true"></span>
					</th>
					<th ng-click="sortOrder = 'liveData.Name'; sortReversed = !sortReversed;">
						Name
						<span class="glyphicon-lighter small" ng-class="{'glyphicon glyphicon-chevron-up' : sortOrder === 'liveData.Name' && sortReversed === false, 'glyphicon glyphicon-chevron-down' : sortOrder === 'liveData.Name' && sortReversed === true}" aria-hidden="true"></span>
					</th>
					<th ng-click="sortOrder = 'liveData.LastTradePriceOnly'; sortReversed = !sortReversed;">
						Trade Price
						<span class="glyphicon-lighter small" ng-class="{'glyphicon glyphicon-chevron-up' : sortOrder === 'liveData.LastTradePriceOnly' && sortReversed === false, 'glyphicon glyphicon-chevron-down' : sortOrder === 'liveData.LastTradePriceOnly' && sortReversed === true}" aria-hidden="true"></span>
					</th>
					<th ng-click="sortOrder = 'liveData.Change'; sortReversed = !sortReversed;">
						Change
						<span class="glyphicon-lighter small" ng-class="{'glyphicon glyphicon-chevron-up' : sortOrder === 'liveData.Change' && sortReversed === false, 'glyphicon glyphicon-chevron-down' : sortOrder === 'liveData.Change' && sortReversed === true}" aria-hidden="true"></span>
					</th>
					<th ng-click="sortOrder = 'liveData.ChangeInPercent'; sortReversed = !sortReversed;">
						% Change
						<span class="glyphicon-lighter small" ng-class="{'glyphicon glyphicon-chevron-up' : sortOrder === 'liveData.ChangeInPercent' && sortReversed === false, 'glyphicon glyphicon-chevron-down' : sortOrder === 'liveData.ChangeInPercent' && sortReversed === true}" aria-hidden="true"></span>
					</th>
					<th ng-click="sortOrder = 'liveData.DividendYield'; sortReversed = !sortReversed;">
						Yield
						<span class="glyphicon-lighter small" ng-class="{'glyphicon glyphicon-chevron-up' : sortOrder === 'liveData.DividendYield' && sortReversed === false, 'glyphicon glyphicon-chevron-down' : sortOrder === 'liveData.DividendYield' && sortReversed === true}" aria-hidden="true"></span>
					</th>
					<th ng-click="sortOrder = 'liveData.PERatio'; sortReversed = !sortReversed;">
						P/E
						<span class="glyphicon-lighter small" ng-class="{'glyphicon glyphicon-chevron-up' : sortOrder === 'liveData.PERatio' && sortReversed === false, 'glyphicon glyphicon-chevron-down' : sortOrder === 'liveData.PERatio' && sortReversed === true}" aria-hidden="true"></span>
					</th>
					<th ng-click="sortOrder = 'liveData.EarningsPerShare'; sortReversed = !sortReversed;">
						EPS
						<span class="glyphicon-lighter small" ng-class="{'glyphicon glyphicon-chevron-up' : sortOrder === 'liveData.EarningsPerShare' && sortReversed === false, 'glyphicon glyphicon-chevron-down' : sortOrder === 'liveData.EarningsPerShare' && sortReversed === true}" aria-hidden="true"></span>
					</th>
					<th colspan="2" ng-click="sortOrder = 'liveData._52WeekLow'; sortReversed = !sortReversed;">
						52 week-Range
						<span class="glyphicon-lighter small" ng-class="{'glyphicon glyphicon-chevron-up' : sortOrder === 'liveData._52WeekLow' && sortReversed === false, 'glyphicon glyphicon-chevron-down' : sortOrder === 'liveData._52WeekLow' && sortReversed === true}" aria-hidden="true"></span>
					</th>
					<th ng-click="sortOrder = 'liveData.StockExchange'; sortReversed = !sortReversed;">
						Ex
						<span class="glyphicon-lighter small" ng-class="{'glyphicon glyphicon-chevron-up' : sortOrder === 'liveData.StockExchange' && sortReversed === false, 'glyphicon glyphicon-chevron-down' : sortOrder === 'liveData.StockExchange' && sortReversed === true}" aria-hidden="true"></span>
					</th>
					<th>See more</th>
				</tr>
			</thead>
			<tbody>
				<tr stock-list-item class="animate-repeat" ng-repeat="quote in stockQuotes | orderBy:sortOrder:sortReversed" quote="quote"></tr>
				<tr ng-hide="stockQuotes.length > 0">
					<td colspan="13" class="text-center"><strong>Loading data...</strong></td>
				</tr>
			</tbody>
		</table>
	</div>
</div>


<!-- Modal -->
<div class="modal fade" id="addStockModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="myModalLabel">Add Stock to Watchlist</h4>
			</div>

			<div class="modal-body">
				<form>
					<div class="form-group">
						<label for="addStockName">Stock Name</label>
						<input type="text" class="form-control" id="addStockName" placeholder="Enter Stock Name" ng-model="addStockName">
					</div>
				</form>

				<div class="table-responsive">
					<table class="table table-striped" ng-show="addStockSuggestions.length > 0">
						<thead>
							<tr>
								<th class="col-md-1 text-center">Select</th>
								<th class="col-md-2">Name</th>
								<th class="col-md-6">Symbol</th>
								<th class="col-md-3">Exchange</th>
								<th class="col-md-1">Type</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="stockSuggestion in addStockSuggestions">
								<td class="col-md-1 text-center"><input type="radio" name="addStockChosen" value="{{ stockSuggestion.name }}" ng-click="setSelectedStock(stockSuggestion)"></td>
								<th class="col-md-2" scope="row">{{ stockSuggestion.symbol }}</th>
								<td class="col-md-7">{{ stockSuggestion.name }}</td>
								<td class="col-md-2">{{ stockSuggestion.exchDisp }}</td>
								<td class="col-md-1">{{ stockSuggestion.typeDisp }}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="closeAddStockModal()">Cancel</button>
				<button type="button" class="btn btn-primary" data-dismiss="modal" ng-class="{ disabled: !hasSelectedStock }" ng-click="saveSelectedStock()">Add Stock</button>
			</div>
		</div>
	</div>
</div>
